script[type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"]
script[type="text/javascript"]
  |  google.maps.event.addDomListener(window, 'load', function() { var latlng = new google.maps.LatLng(<ruby code="= library.latitude"></ruby>, <ruby code="= library.longitude"></ruby>); var options = { zoom: 16, center: latlng, mapTypeId: google.maps.MapTypeId.ROADMAP, scaleControl: true }; var map = new google.maps.Map(document.getElementById("library_map"), options); var marker = new google.maps.Marker({ position: latlng, map: map, title: '<ruby code="= library.display_name"></ruby>' }); var infowindow = new google.maps.InfoWindow({ content: '<ruby code="= library.display_name"></ruby>' }); google.maps.event.addListener(marker, 'click', function() { infowindow.open(map,marker); }); }); 
#library_map[style="width: 500px; height: 500px;"]
